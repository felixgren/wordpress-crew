{"version":3,"sources":["@wordpress/block-editor/src/components/inserter/block-types-tab.native.js"],"names":["useSelect","BlockTypesList","useClipboardBlock","store","blockEditorStore","useBlockTypeImpressions","NON_BLOCK_CATEGORIES","ALLOWED_EMBED_VARIATIONS","BlockTypesTab","onSelect","rootClientId","listProps","clipboardBlock","blockTypes","select","getInserterItems","allItems","blockItems","filter","id","category","includes","items","trackBlockTypeSelected","handleSelect","args"],"mappings":";;AAAA;AACA;AACA;AACA,SAASA,SAAT,QAA0B,iBAA1B;AAEA;AACA;AACA;;AACA,OAAOC,cAAP,MAA2B,qBAA3B;AACA,OAAOC,iBAAP,MAA8B,6BAA9B;AACA,SAASC,KAAK,IAAIC,gBAAlB,QAA0C,aAA1C;AACA,OAAOC,uBAAP,MAAoC,oCAApC;AAEA,MAAMC,oBAAoB,GAAG,CAAE,UAAF,CAA7B;AAEA,MAAMC,wBAAwB,GAAG,CAAE,YAAF,CAAjC;;AAEA,SAASC,aAAT,CAAwB;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,YAAZ;AAA0BC,EAAAA;AAA1B,CAAxB,EAAgE;AAC/D,QAAMC,cAAc,GAAGV,iBAAiB,CAAEQ,YAAF,CAAxC;AAEA,QAAM;AAAEG,IAAAA;AAAF,MAAiBb,SAAS,CAC7Bc,MAAF,IAAc;AACb,UAAM;AAAEC,MAAAA;AAAF,QAAuBD,MAAM,CAAEV,gBAAF,CAAnC;AAEA,UAAMY,QAAQ,GAAGD,gBAAgB,CAAEL,YAAF,CAAjC;AACA,UAAMO,UAAU,GAAGD,QAAQ,CAACE,MAAT,CAClB,CAAE;AAAEC,MAAAA,EAAF;AAAMC,MAAAA;AAAN,KAAF,KACC,CAAEd,oBAAoB,CAACe,QAArB,CAA+BD,QAA/B,CAAF,MACA;AACA;AACA;AACEA,IAAAA,QAAQ,KAAK,OAAb,IACCA,QAAQ,KAAK,OAAb,IACDb,wBAAwB,CAACc,QAAzB,CAAmCF,EAAnC,CANF,CAFiB,CAAnB;AAWA,WAAO;AACNN,MAAAA,UAAU,EAAED,cAAc,GACvB,CAAEA,cAAF,EAAkB,GAAGK,UAArB,CADuB,GAEvBA;AAHG,KAAP;AAKA,GArB8B,EAsB/B,CAAEP,YAAF,CAtB+B,CAAhC;AAyBA,QAAM;AAAEY,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAoClB,uBAAuB,CAChEQ,UADgE,CAAjE;;AAIA,QAAMW,YAAY,GAAG,CAAE,GAAGC,IAAL,KAAe;AACnCF,IAAAA,sBAAsB,CAAE,GAAGE,IAAL,CAAtB;AACAhB,IAAAA,QAAQ,CAAE,GAAGgB,IAAL,CAAR;AACA,GAHD;;AAKA,SACC,cAAC,cAAD;AACC,IAAA,IAAI,EAAC,QADN;AAEC,IAAA,KAAK,EAAGH,KAFT;AAGC,IAAA,QAAQ,EAAGE,YAHZ;AAIC,IAAA,SAAS,EAAGb;AAJb,IADD;AAQA;;AAED,eAAeH,aAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport BlockTypesList from '../block-types-list';\nimport useClipboardBlock from './hooks/use-clipboard-block';\nimport { store as blockEditorStore } from '../../store';\nimport useBlockTypeImpressions from './hooks/use-block-type-impressions';\n\nconst NON_BLOCK_CATEGORIES = [ 'reusable' ];\n\nconst ALLOWED_EMBED_VARIATIONS = [ 'core/embed' ];\n\nfunction BlockTypesTab( { onSelect, rootClientId, listProps } ) {\n\tconst clipboardBlock = useClipboardBlock( rootClientId );\n\n\tconst { blockTypes } = useSelect(\n\t\t( select ) => {\n\t\t\tconst { getInserterItems } = select( blockEditorStore );\n\n\t\t\tconst allItems = getInserterItems( rootClientId );\n\t\t\tconst blockItems = allItems.filter(\n\t\t\t\t( { id, category } ) =>\n\t\t\t\t\t! NON_BLOCK_CATEGORIES.includes( category ) &&\n\t\t\t\t\t// We don't want to show all possible embed variations\n\t\t\t\t\t// as different blocks in the inserter. We'll only show a\n\t\t\t\t\t// few popular ones.\n\t\t\t\t\t( category !== 'embed' ||\n\t\t\t\t\t\t( category === 'embed' &&\n\t\t\t\t\t\t\tALLOWED_EMBED_VARIATIONS.includes( id ) ) )\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\tblockTypes: clipboardBlock\n\t\t\t\t\t? [ clipboardBlock, ...blockItems ]\n\t\t\t\t\t: blockItems,\n\t\t\t};\n\t\t},\n\t\t[ rootClientId ]\n\t);\n\n\tconst { items, trackBlockTypeSelected } = useBlockTypeImpressions(\n\t\tblockTypes\n\t);\n\n\tconst handleSelect = ( ...args ) => {\n\t\ttrackBlockTypeSelected( ...args );\n\t\tonSelect( ...args );\n\t};\n\n\treturn (\n\t\t<BlockTypesList\n\t\t\tname=\"Blocks\"\n\t\t\titems={ items }\n\t\t\tonSelect={ handleSelect }\n\t\t\tlistProps={ listProps }\n\t\t/>\n\t);\n}\n\nexport default BlockTypesTab;\n"]}